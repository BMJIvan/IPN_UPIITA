	PROCESSOR	P16F887
	INCLUDE		<P16F887.INC>

	;_CONFIG _CONFIG1, (_INTRC_OSC_NOCLKOUT & _WDT_OFF & _PWRTE_OFF & _MCLRE_OFF & _CP_OFF & _CPD_OFF & _BOR_OFF & _IESO_OFF & _FCMEN_OFF & _LVP_OFF & _DEBUG_OFF)
	;_CONFIG _CONFIG2, (_WRT_OFF & _BOR40V)



VLPA	EQU		0x20
NB		EQU		0x21
NA		EQU		0X22
RX		EQU		0x23
MA		EQU		0X24
ME		EQU		0x25
		ORG		0x00
		BANKSEL	ANSEL
		CLRF	ANSEL
		CLRF	ANSELH
		BANKSEL	TRISA
		MOVLW	0xFF
		MOVWF	TRISA
		CLRF	TRISB
		CLRF	TRISC
		CLRF	TRISD
		CLRF	TRISE
		BANKSEL	PORTA
C_P
		MOVF	PORTA,W
		MOVWF	VLPA
		ANDLW	0x0F
		MOVWF	NB
		MOVF	VLPA,W
		ANDLW	0xF0
		MOVWF	NA
		SWAPF	NA,F
		CLRF	RX
		MOVF	NA,F
		BTFSC	STATUS,Z
		GOTO	MRPB
		MOVF	NB,F
		BTFSC	STATUS,Z
		GOTO	MRPB

		MOVF	NB,W
		SUBWF	NA,W
		BTFSC	STATUS,C
		GOTO	NA_M
	
		MOVF	NB,W
		MOVWF	MA
		MOVF	NA,W
		MOVWF	ME
		GOTO	MUL

NA_M	
		MOVF	NA,W
		MOVWF	MA
		MOVF	NB,W
		MOVWF	ME
MUL
		MOVF	MA,W
		ADDWF	RX,F
		DECFSZ	ME,F
		GOTO	MUL

MRPB	
		MOVF	RX,W
		MOVWF	PORTB
		GOTO	C_P	
		END